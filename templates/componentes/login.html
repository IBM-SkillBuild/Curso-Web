<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursos de programación Edu-Tech</title>
    <!-- Incluir Tailwind CSS desde CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">
    <style>
        html,body{
            background-color: rgb(15, 2, 73);
        }
        #titulo {  font-family: "Bree Serif", serif; color: aliceblue; }
        .error { color: #ef4444; } /* Rojo para mensajes de error */
    </style>
</head>
<body>
    
<!-- Cambié el fondo de esta sección a bg-gray-100 para que coincida con la sección de login -->
<section style="height: 100vh;">
    <div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16">
        <h1 id="titulo" class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white"  style="margin-bottom: 1em;">Cursos gratis de programación Web</h1>
        <p class="mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 lg:px-48 dark:text-gray-400"  style="margin-bottom: 3em;">El compromiso de enseñar, aprender y compartir, nos hace avanzar a todos juntos. </p>
        <div class="flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0">
            <a style="cursor:pointer" onclick="fluidScroll({yPos: 'end', duration: 700});" class="inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900">
                Get started
                <svg class="w-3.5 h-3.5 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                </svg>
            </a>
            <a href="#" id="learn-more-btn" class="py-3 px-5 sm:ms-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                Learn more
            </a>  
        </div>
    </div>
</section>

<section id="login-reg" class="flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
        <button onclick="fluidScroll({yPos: '0', duration: 700});" style="top:0;float:right"><span style="font-size: 23px;">⬆</span></button>
        <h1 class="text-2xl font-bold text-gray-800 mb-6 text-center">Iniciar Sesión</h1>
        <form hx-post="/login" hx-target="#login-response" hx-swap="outerHTML" class="space-y-2">
            <div style="margin-top: -0.7em;">
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <input type="email" id="email" name="email" required
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                       style="font-size: 12px;">
                        
                    </div>
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700">Contraseña</label>
                <input type="password" id="password" name="password" required
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                       style="font-size: 12px;">
            </div>
            <div class="flex items-center">
                <input type="checkbox" id="keep_logged_in" name="keep_logged_in"
                       class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                <label for="keep_logged_in" class="ml-2 block text-sm text-gray-900">Mantener sesión abierta</label>
            </div>
            
            <!-- Checkbox de aceptación de términos y política de privacidad -->
            <div class="flex items-start">
                <input type="checkbox" id="accept_terms" name="accept_terms" required
                       class="h-4 w-4 mt-1 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                <label for="accept_terms" class="ml-2 block text-sm text-gray-700">
                    Acepto los <a href="/terms" class="text-indigo-600 hover:text-indigo-800">Términos de Servicio</a> y la 
                    <a href="/privacy" class="text-indigo-600 hover:text-indigo-800">Política de Privacidad</a>
                </label>
            </div>
            
            <button type="submit"
                    class="w-full py-2 px-4 bg-indigo-400 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                Iniciar Sesión mail & password
            </button>
            
            <div class="relative py-3">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300"></div>
                </div>
                <div class="relative flex justify-center">
                    <span class="bg-white px-2 text-sm text-gray-500">O</span>
                </div>
            </div>
            
            <button type="button" onclick="window.location.href='/google'"
                    class="w-full py-2 px-4 bg-indigo-100 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-1.04.69-2.37 1.1-3.71 1.1-2.85 0-5.27-1.92-6.13-4.5H1.5v2.82C3.36 20.31 7.42 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.87 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H1.5C.54 8.74 0 10.34 0 12s.54 3.26 1.5 4.93l4.37-2.84z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.42 1 3.36 3.69 1.5 7.07l4.37 2.84c.86-2.58 3.28-4.53 6.13-4.53z"/>
                </svg>
                Iniciar con Google
            </button>
            
            <!-- Mensaje informativo sobre inicio de sesión con Google -->
            <p class="text-xs text-gray-500 mt-2">
                Al iniciar sesión con Google, nos autorizas a acceder a tu nombre y correo electrónico de acuerdo con nuestra política de privacidad.
            </p>
        </form>
        <div id="login-response" class="mt-4 text-center" style="font-size: 12px;">
            <button hx-get="/registro"
            hx-trigger="click"
            hx-swap="outerHTML"
            hx-target="#login-reg"
     class="mt-4 py-2 px-4 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
        pulsa aqui si no estás registrado
    </button>    
        </div>
        
        <!-- Enlaces a políticas en el pie de página -->
        <div class="mt-6 pt-4 border-t border-gray-200 text-center">
            <div class="flex justify-center space-x-4 text-xs text-gray-500">
                <a href="/privacy" class="hover:text-indigo-600">Política de Privacidad</a>
                <a href="/terms" class="hover:text-indigo-600">Términos de Servicio</a>
                <a href="/cookies" class="hover:text-indigo-600">Política de Cookies</a>
            </div>
        </div>
    </div>
    
</section>

<!-- Banner de Cookies -->
<div id="cookie-banner" style="display:none" class="fixed bottom-0 left-0 right-0 bg-gray-800 shadow-lg border-t border-gray-700 p-4 z-50">
    <div class="max-w-screen-xl mx-auto">
        <div class="md:flex md:items-center">
            <div class="md:flex-1">
                <p class="text-sm text-white">
                    Utilizamos cookies para mejorar tu experiencia en nuestra plataforma. Al continuar navegando, aceptas el uso de cookies de acuerdo con nuestra 
                    <a href="/cookies" class="text-blue-400 hover:underline font-medium">Política de Cookies</a>.
                </p>
            </div>
            <div class="mt-4 md:mt-0 md:ml-6 flex flex-wrap gap-2">
                <button id="accept-cookies" class="bg-blue-500 text-white text-sm px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400">
                    Aceptar todas
                </button>
                <button id="reject-cookies" class="bg-gray-200 text-gray-900 text-sm px-4 py-2 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 font-medium">
                    Solo esenciales
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Overlay para Learn More -->
<div id="learn-more-overlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full" style="max-width: 50%;">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Más información sobre esta plataforma</h2>
        <ul class="list-disc pl-6 text-gray-600 mb-4">
            <li>Necesitará registrarse para acceder a los cursos y a su progreso.</li>
            <li>Solo se usan cookies esenciales para la sesión y el funcionamiento general de la plataforma.</li>
            <li>Su perfil será público (solo nombre e imagen) que podrá ser visto por otros usuarios.</li>
            <li>Para mayor privacidad, puede cambiar su 'foto' de perfil y su nombre de usuario por un 'Alias' en cualquier momento.</li>
        </ul>
        <div class="flex justify-end">
            <button id="close-learn-more" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">
                Cerrar
            </button>
        </div>
    </div>
</div>
<style>
    @media (max-width: 756px) {
        #learn-more-overlay .bg-white {
            min-width: 90vw;
        }
    }
    @media (min-width: 757px) {
        #learn-more-overlay .bg-white {
            max-width: 50%;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Obtener referencias a los elementos
        const learnMoreBtn = document.getElementById('learn-more-btn');
        const learnMoreOverlay = document.getElementById('learn-more-overlay');
        const closeLearnMoreBtn = document.getElementById('close-learn-more');

        // Verificar que los elementos existen antes de agregar eventos
        if (learnMoreBtn && learnMoreOverlay && closeLearnMoreBtn) {
            // Mostrar el overlay al hacer clic en "Learn More"
            learnMoreBtn.addEventListener('click', function (event) {
                event.preventDefault();
                learnMoreOverlay.classList.remove('hidden');
            });

            // Cerrar el overlay al hacer clic en el botón "Cerrar"
            closeLearnMoreBtn.addEventListener('click', function () {
                learnMoreOverlay.classList.add('hidden');
            });
        } else {
            console.error('No se encontraron los elementos necesarios para el modal.');
        }
    });

    // Verificar si ya se ha mostrado el banner de cookies
    document.addEventListener('DOMContentLoaded', function() {
        if (!localStorage.getItem('cookieConsentShown')) {
            document.getElementById('cookie-banner').style.display = 'block';
        } else {
            document.getElementById('cookie-banner').style.display = 'none';
        }
    });

    // Manejar la aceptación de cookies
    document.getElementById('accept-cookies').addEventListener('click', function() {
        localStorage.setItem('cookieConsentShown', 'true');
        localStorage.setItem('cookieConsent', 'all');
        document.getElementById('cookie-banner').style.display = 'none';
    });

    // Manejar el rechazo de cookies no esenciales
    document.getElementById('reject-cookies').addEventListener('click', function() {
        localStorage.setItem('cookieConsentShown', 'true');
        localStorage.setItem('cookieConsent', 'essential');
        document.getElementById('cookie-banner').style.display = 'none';
    });

    // Mostrar opciones personalizadas de cookies (esto necesitaría una implementación más elaborada)
    document.getElementById('customize-cookies').addEventListener('click', function() {
        // Aquí podrías mostrar una ventana modal o redirigir a una página de configuración
        alert('La personalización detallada de cookies estará disponible próximamente.');
    });
</script>
 <!-- Incluir HTMX desde CDN -->
 <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  <!-- Incluir fluid scroll desde CDN -->
<script src="https://cdn.jsdelivr.net/npm/fluidscroll@2.0.0" integrity="sha384-ZvfwaJZFftLPOaPS13spccPYdWRcrfz/GDgUYAf7b6I2OBXY74KiAC6WVg0XF3Qq" crossorigin="anonymous"></script>
</body>
</html>